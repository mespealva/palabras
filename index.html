<!DOCTYPE html>
<html>

<head>
    <title>Desaf√≠o</title>
    <metacharset="utf-8">
</head>

<body>
    <p id="texto">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nisl urna, posuere ut est
        non, posuere hendrerit massa. Suspendisse potenti. Duis vulputate ex eget turpis efficitur dapibus. Maecenas
        semper ligula eget dapibus finibus. Nullam dignissim, erat eu scelerisque convallis, lacus nunc interdum massa,
        non porta mauris ante sed elit. Sed lobortis felis augue, inscelerisque nisl ornare sit amet. Cras quis metus et
        risus facilisis posuere. Praesent at suscipit ipsum. Aliquam erat volutpat. Donec non orci et ex dictum sagittis
        quis nec justo. Praesent non massa vitae nulla scelerisque condimentum sed eu mauris. Phasellus pharetra quam
        vel metusrhoncus, sit amet eleifend justo sollicitudin. Praesent facilisis sem vitae vestibulum malesuada.
        Sedsuscipit felis et iaculis tempor. Sed quam leo, dapibus sit amet elit et, dictum suscipit nulla. Phasellus
        quis ipsum eleifend turpis volutpat blandit. Pellentesque non ullamcorper lectus, sit amet finibus magna. Donec
        bibendum tincidunt tortor, et rutrum ante finibus ut. In eleifend id magna feugiatfinibus. Quisque consequat,
        justo sed rutrum semper, augue enim commodo lorem, eget consectetururna ante vel leo. Donec iaculis metus urna,
        eu convallis lorem commodo eget. Ut vitae fringilla ipsum. Proin nontellus porta, mattis lorem et, elementum
        lacus. Etiam congue neque sapien, posuere porta turpis rhoncusvitae. Suspendisse eu semper dolor, ac blandit
        magna. Nam aliquet sem vitae risus tempor, in posuere lectusdictum. Maecenas vitae enim eget enim ornare euismod.
        Integer ut nisl sit amet lacus sollicitudin rutrum quis
        veldiam. Suspendisse ac mattis leo. Etiam eu efficitur nisi. Sed porta viverra odio a tincidunt. Nam et
        felisipsum. Sed aliquam id enim at tempor. Sed pretium sapien accumsan urna faucibus congue. Duis variusligula
        sed est placerat suscipit. Nunc ultrices nisi vitae faucibus rhoncus. Maecenas malesuada risus velconsectetur
        venenatis. Phasellus in accumsan mauris. Sed at mi sit amet tortor sagittis imperdiet sit amet inaugue.
        Phasellus convallis tincidunt nibh, sed luctus nisi dignissim sit amet. Maecenas eget felis a turpistristique
        tincidunt quis id nulla. Pellentesque lacinia, metus a vestibulum mattis, metus odio varius augue,non ornare
        mauris elit sed est. Vivamus dapibus mauris ex, non efficitur metus condimentum eget. Duislacinia arcu nec
        mauris scelerisque egestas vitae sit amet ligula. Vivamus mollis nibh ut placerat laoreet. Integerarcu tellus,
        dignissim sit amet tortor nec, commodo facilisis elit.
    </p>

    <button onclick="count('letters');">Contar letras</button>
    <button onclick="count('words');">Contar palabras</button>

    <div id="resultados">
        <h1>Resultados</h1>
    </div>

    <script>
        function count(type) {
            let char = type == "letters" ? "" : " ";
            let array = getProcessedParagraph(char);
            let obj = makeCountObject(array);
            appendResults(obj);
        }

        function getProcessedParagraph(splitter) {
            let paragraph = document.getElementById("texto");
            let splittedParagraph = paragraph.textContent.toLowerCase().split(splitter);
            return splittedParagraph.filter(ele => ele.match(/[\W\d]+/) == null && ele.length != 0);
        }

        function makeCountObject(arr) {
            let count = {};
            arr.forEach(ele => ele in count ? count[ele]++ : count[ele] = 1);
            return count;
        }

        function appendResults(obj) {
            let results = document.getElementById("resultados");
            results.innerHTML = "";
            let heading = document.createElement("h1");
            heading.textContent = "Resultados"
            results.appendChild(heading);
            Object.keys(obj).forEach(key => {
                let p = document.createElement("p");
                let strong = document.createElement("strong");
                strong.textContent = key + ": ";
                p.appendChild(strong);
                p.innerHTML += obj[key];
                results.appendChild(p);
            });
        }

    </script>
</body>

</html>
